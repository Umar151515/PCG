Эту библиотеку я написал 2 года назад. Она нужна для создания игр в консоли. Я её сделал, чтобы подтянуть ООП в Python. Библиотека не работает на Mac os и Linux. Если при запуске у вас неправильно отображаются символы, перейдите в параметры PowerShell. Для этого щелкните правой кнопкой мыши по командной строке, выберите «Параметры», и в разделе «Приложение терминала по умолчанию» установите «Узел консоли Windows».


Библиотека работает почти как Pygame.

Сначала нужно импортировать библиотеку:

import pcg

Затем создать объект консоли:

console = pcg.WindowConsole(120, 40)

Если создать второй объект консоли, например:

console2 = pcg.WindowConsole(140, 60)

то объект console будет ссылаться на console2.

Затем нужно создать объект текста:

text = pcg.TextImage("##\n##")

TextImage используется для хранения текста и его размеров.

Чтобы отобразить текст в консоли, нужно добавить следующий код:

while True:  # Чтобы консоль сразу не закрывалась
    pcg.draw.blit(console, text, (20, 60))  # Функция blit рисует текст на объекте консоли. Первый параметр — консоль, второй — текст, третий — координаты.
    console.update() # Обновляет отображение консоли


Можно также добавить движение текста. Для этого нужно получить объект rect:

rect = text.get_rect()
Объект rect можно создать и вручную:

rect = pcg.Rect(x, y, size_x, size_y)
rect используется для хранения координат и размеров. Координаты rect можно изменять:

rect.x_cor = x
rect.y_cor = y
Также можно получить текущие координаты:

rect.x_cor
rect.y_cor

У rect есть и другие свойства:

x_center
y_center
right
bottom

Также доступны следующие координаты:

top_left
top_right
bottom_left
bottom_right
top_center
bottom_center
right_center
left_center
center

Эти свойства принимают кортежи вместо чисел.

Вместо:

pcg.draw.blit(console, text, (0, 0))

можно написать:

pcg.draw.blit(console, text, rect)

Теперь в цикл можно добавить изменение координат:

rect.x_cor += 0.1

При запуске программы текст будет двигаться, создавая полосу, пока не скроется за экраном. Полоса создается из-за того, что предыдущие тексты не очищаются. Чтобы очистить консоль, нужно использовать функцию fill объекта консоли внутри цикла:

console.fill(" ")  # Вместо пробела можно использовать любой символ

Можно также добавить логику, чтобы текст возвращался в начало, когда выходит за границы консоли. Для этого нужно добавить проверку в цикл:

if rect.x_cor > console.size_x:  # Если правая сторона текста выходит за пределы ширины консоли
    rect.right = 0  # Установить правую сторону в 0

Теперь при запуске программы текст будет двигаться вправо и возвращаться в начало экрана.

Полный код:

import pcg

console = pcg.WindowConsole(120, 40)

text = pcg.TextImage("##\n##")
rect = text.get_rect()

rect.y_cor = 20

while True:
    pcg.draw.blit(console, text, rect)

    rect.x_cor += 0.1
    if rect.x_cor > console.size_x:
        rect.right = 0

    console.update()
    console.fill(" ")
